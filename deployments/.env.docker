# MedFlow Docker Compose Configuration
# This file is used by docker-compose.yml for containerized services
# Services connect to each other via Docker network hostnames

# Environment
MEDFLOW_SERVER_ENVIRONMENT=development

# Database Configuration (single database, RLS-based multi-tenancy)
# Services connect as medflow_app (non-superuser) so RLS is enforced.
# The medflow superuser is used only for migrations.
DB_PASSWORD=devpassword
DB_SSL_MODE=disable

# Note: In Docker Compose, each service uses environment variables set in docker-compose.yml
# The following are for reference and external tools only
MEDFLOW_DATABASE_HOST=postgres
MEDFLOW_DATABASE_PORT=5432
MEDFLOW_DATABASE_USER=medflow_app
MEDFLOW_DATABASE_PASSWORD=devpassword
MEDFLOW_DATABASE_DATABASE=medflow

# Migration URL (superuser, for running migrations only)
MIGRATE_DATABASE_URL=postgres://medflow:devpassword@postgres:5432/medflow?sslmode=disable

# RabbitMQ (Docker internal)
MEDFLOW_RABBITMQ_URL=amqp://medflow:devpassword@rabbitmq:5672/
RABBITMQ_PASSWORD=devpassword

# JWT (development only)
MEDFLOW_JWT_SECRET=dev-secret-change-in-production
JWT_SECRET=dev-secret-change-in-production

# Service URLs (Docker internal networking)
MEDFLOW_SERVICES_AUTH_SERVICE_URL=http://auth-service:8081
MEDFLOW_SERVICES_USER_SERVICE_URL=http://user-service:8082
MEDFLOW_SERVICES_STAFF_SERVICE_URL=http://staff-service:8083
MEDFLOW_SERVICES_INVENTORY_SERVICE_URL=http://inventory-service:8084
