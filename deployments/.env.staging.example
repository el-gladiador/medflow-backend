# MedFlow Staging Environment Configuration Template
# Copy this file and fill in actual values for your staging environment
# NEVER commit actual credentials to version control

# Environment - REQUIRED
MEDFLOW_SERVER_ENVIRONMENT=staging

# Database Configuration - REQUIRED (choose URL or individual fields)
# Option 1: 12-Factor style DATABASE_URL (recommended)
# MEDFLOW_DATABASE_URL=postgres://user:password@staging-db.eu-central-1.rds.amazonaws.com:5432/medflow?sslmode=require

# Option 2: Individual fields
# MEDFLOW_DATABASE_HOST=staging-db.eu-central-1.rds.amazonaws.com
# MEDFLOW_DATABASE_PORT=5432
# MEDFLOW_DATABASE_USER=medflow_staging
# MEDFLOW_DATABASE_PASSWORD=<secure-password>
# MEDFLOW_DATABASE_DATABASE=medflow_staging
# MEDFLOW_DATABASE_SSL_MODE=require

# Per-service database URLs (AWS Aurora - staging cluster)
AUTH_DATABASE_URL=postgres://medflow_staging:<password>@medflow-staging-auth.cluster-xxxx.eu-central-1.rds.amazonaws.com:5432/medflow_auth?sslmode=require
USER_DATABASE_URL=postgres://medflow_staging:<password>@medflow-staging-users.cluster-xxxx.eu-central-1.rds.amazonaws.com:5432/medflow_users?sslmode=require
STAFF_DATABASE_URL=postgres://medflow_staging:<password>@medflow-staging-staff.cluster-xxxx.eu-central-1.rds.amazonaws.com:5432/medflow_staff?sslmode=require
INVENTORY_DATABASE_URL=postgres://medflow_staging:<password>@medflow-staging-inventory.cluster-xxxx.eu-central-1.rds.amazonaws.com:5432/medflow_inventory?sslmode=require

# RabbitMQ - REQUIRED
MEDFLOW_RABBITMQ_URL=amqps://medflow:<password>@staging-rabbitmq.eu-central-1.amazonaws.com:5671/

# JWT Secret - REQUIRED (generate with: openssl rand -base64 64)
MEDFLOW_JWT_SECRET=<generate-secure-secret-min-32-chars>

# Service URLs (internal AWS networking / ECS service discovery)
MEDFLOW_SERVICES_AUTH_SERVICE_URL=http://auth-service.medflow.local:8081
MEDFLOW_SERVICES_USER_SERVICE_URL=http://user-service.medflow.local:8082
MEDFLOW_SERVICES_STAFF_SERVICE_URL=http://staff-service.medflow.local:8083
MEDFLOW_SERVICES_INVENTORY_SERVICE_URL=http://inventory-service.medflow.local:8084

# Connection pool settings (adjust based on instance size)
MEDFLOW_DATABASE_MAX_OPEN_CONNS=25
MEDFLOW_DATABASE_MAX_IDLE_CONNS=10
MEDFLOW_DATABASE_CONN_MAX_LIFETIME=5m
