# MedFlow Production Environment Configuration Template
# Copy this file and fill in actual values for your production environment
# NEVER commit actual credentials to version control
# Use AWS Secrets Manager or Parameter Store for production secrets

# Environment - REQUIRED
MEDFLOW_SERVER_ENVIRONMENT=production

# Database Configuration - REQUIRED
# Production MUST use sslmode=require or sslmode=verify-full for GDPR compliance
#
# Option 1: 12-Factor style DATABASE_URL (recommended)
# MEDFLOW_DATABASE_URL=postgres://user:password@prod-db.eu-central-1.rds.amazonaws.com:5432/medflow?sslmode=require

# Per-service database URLs (AWS Aurora - production cluster in eu-central-1 for German healthcare compliance)
AUTH_DATABASE_URL=postgres://medflow_prod:<password>@medflow-prod-auth.cluster-xxxx.eu-central-1.rds.amazonaws.com:5432/medflow_auth?sslmode=require
USER_DATABASE_URL=postgres://medflow_prod:<password>@medflow-prod-users.cluster-xxxx.eu-central-1.rds.amazonaws.com:5432/medflow_users?sslmode=require
STAFF_DATABASE_URL=postgres://medflow_prod:<password>@medflow-prod-staff.cluster-xxxx.eu-central-1.rds.amazonaws.com:5432/medflow_staff?sslmode=require
INVENTORY_DATABASE_URL=postgres://medflow_prod:<password>@medflow-prod-inventory.cluster-xxxx.eu-central-1.rds.amazonaws.com:5432/medflow_inventory?sslmode=require

# RabbitMQ - REQUIRED (Amazon MQ or self-hosted in eu-central-1)
MEDFLOW_RABBITMQ_URL=amqps://medflow:<password>@prod-rabbitmq.eu-central-1.amazonaws.com:5671/

# JWT Secret - REQUIRED
# Generate with: openssl rand -base64 64
# In production, use AWS Secrets Manager:
# aws secretsmanager get-secret-value --secret-id medflow/production/jwt-secret
MEDFLOW_JWT_SECRET=<retrieve-from-secrets-manager>

# Service URLs (AWS ECS Service Discovery / internal ALB)
MEDFLOW_SERVICES_AUTH_SERVICE_URL=http://auth-service.medflow.internal:8081
MEDFLOW_SERVICES_USER_SERVICE_URL=http://user-service.medflow.internal:8082
MEDFLOW_SERVICES_STAFF_SERVICE_URL=http://staff-service.medflow.internal:8083
MEDFLOW_SERVICES_INVENTORY_SERVICE_URL=http://inventory-service.medflow.internal:8084

# Connection pool settings (production-tuned)
MEDFLOW_DATABASE_MAX_OPEN_CONNS=50
MEDFLOW_DATABASE_MAX_IDLE_CONNS=25
MEDFLOW_DATABASE_CONN_MAX_LIFETIME=10m

# Server timeouts (production-tuned)
MEDFLOW_SERVER_READ_TIMEOUT=30s
MEDFLOW_SERVER_WRITE_TIMEOUT=30s

# AWS Region (for SDK operations)
AWS_REGION=eu-central-1

# Note: For production deployments, prefer using:
# - AWS Secrets Manager for database passwords and JWT secret
# - AWS Parameter Store for other configuration
# - IAM roles for service authentication instead of static credentials
